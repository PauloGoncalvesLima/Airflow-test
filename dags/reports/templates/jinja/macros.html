{% macro create_dict_section(data_list) %}
<div>
  {% for item in data_list %}
    <h2>{{ item.proposal_title }}</h2>
    {% for comment in item.comments %}
      <p>{{ comment }}</p>
    {% endfor %}
  {% endfor %}
</div>
{% endmacro %}

{% macro create_table_from_dict(table) %}''
<div class="table-element"> 
  <span>
    <table>
      <!-- Cabeçalhos da tabela -->
      <thead>
        <tr>
          {% for header in table.keys() %}
            <th>{{ header }}</th>
          {% endfor %}
        </tr>
      </thead>
      <!-- Dados da tabela -->
      <tbody>
        {% set max_length = 1 %}
        {% for value in table.values() %}
          {% if value is iterable and value is not string %}
            {% if value|length > max_length %}
              {% set max_length = value|length %}
            {% endif %}
          {% endif %}
        {% endfor %}

        {% for i in range(max_length) %}
          <tr>
            {% for value in table.values() %}
              {% if value is iterable and value is not string %}
                {% if i < value|length %}
                  <td>{{ value[i] }}</td>
                {% else %}
                  <td></td> <!-- Célula vazia para listas mais curtas -->
                {% endif %}
              {% else %}
                {% if i == 0 %}
                  <td>{{ value }}</td> <!-- Mostra o valor se não for uma lista -->
                {% else %}
                  <td></td> <!-- Célula vazia para valores não iteráveis nas linhas subsequentes -->
                {% endif %}
              {% endif %}
            {% endfor %}
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </span>
</div>
{% endmacro %}

{% macro create_table_from_list_of_dicts(table) %}
  <div class="table-element">
    <span>
        <table>
      <!-- Cabeçalhos da tabela -->
      <thead>
        <tr>
          {% if table %}
            {% for header in table[0].keys() %}
              <th>{{ header }}</th>
            {% endfor %}
          {% endif %}
        </tr>
      </thead>
      <!-- Dados da tabela -->
      <tbody>
        {% for item in table %}
          <tr>
            {% for value in item.values() %}
              <td>{{ value }}</td>
            {% endfor %}
          </tr>
        {% endfor %}
      </tbody>
    </table>
    </span>
  </div>
{% endmacro %}

{% macro create_large_table(table, table_position, title, paragraph, div_class='') %}
<section id="programs-ranking-{{ table_position }}" class="fullpage">
  {% if table_position == 0 %}
    <h1>{{title}}</h1>
    <p class="mb">{{paragraph}}</p>
    <br>
  {% endif %}
 <div class="tables">
  <div class="{{ div_class }}">
    <span>
        <table>
      <!-- Cabeçalhos da tabela -->
      <thead>
        <tr>
          {% if table %}
            {% for header in table[0].keys() %}
              <th>{{ header }}</th>
            {% endfor %}
          {% endif %}
        </tr>
      </thead>
      <!-- Dados da tabela -->
      <tbody>
        {% for item in table %}
          <tr>
            {% for value in item.values() %}
              <td>{{ value }}</td>
            {% endfor %}
          </tr>
        {% endfor %}
      </tbody>
    </table>
    </span>
  </div>
</div>
</section>
{% endmacro %}

{% macro print_large_table(tables, title, paragraph, div_class='') %}
  {% for i in range(tables|length) %}
      {{ create_large_table(tables[i], i, title, paragraph, div_class) }}
  {% endfor %}
{% endmacro %}

{% macro create_image_element(img) %}
    <div class="image-container">
      <p class="image-label"> 
      <italic>{{ img.label }}</italic>
      </p>
      <div class="flex">
        <img src="data:image/png;base64,{{ img.file }}" alt="{{ img.label }}" />
      </div>
    </div>
{% endmacro %}

{% macro create_svg_element(img) %}
    <div class="svg-container">
      {% if img.label %}
      <p class="image-label">
        <italic>{{ img.label }}</italic>
      </p>
      {% endif %}
      <div class="flex">
        <img src="data:image/svg;base64,{{ img.file }}" alt="{{ img.label }}" />
      </div>
    </div>
{% endmacro %}
