{
  "name": "bp_assemblies",
  "origin_db_connection": "bp_replica",
  "destination_db_connection": "pg_bp_analytics",
  "catchup": false,
  "start_date": "2024-08-10",
  "schedule_interval": "0 5 * * *",
  "extractions": {
    "decidim_assemblies": {
      "extraction_schema": "public",
      "ingestion_type": "incremental",
      "incremental_filter": "updated_at >= '{{ macros.ds_add(ds, -1) }}' and updated_at < '{{ macros.ds_add(ds, 2) }}'",
      "destination_schema": "raw"
    },
    "decidim_assemblies_settings": {
      "extraction_schema": "public",
      "ingestion_type": "full_refresh",
      "destination_schema": "raw"
    },
    "decidim_assemblies_types": {
      "extraction_schema": "public",
      "ingestion_type": "incremental",
      "incremental_filter": "updated_at >= '{{ macros.ds_add(ds, -1) }}' and updated_at < '{{ macros.ds_add(ds, 2) }}'",
      "destination_schema": "raw"
    },
    "decidim_assembly_members": {
      "extraction_schema": "public",
      "ingestion_type": "incremental",
      "incremental_filter": "updated_at >= '{{ macros.ds_add(ds, -1) }}' and updated_at < '{{ macros.ds_add(ds, 2) }}'",
      "destination_schema": "raw"
    },
    "decidim_assembly_user_roles": {
      "extraction_schema": "public",
      "ingestion_type": "incremental",
      "incremental_filter": "updated_at >= '{{ macros.ds_add(ds, -1) }}' and updated_at < '{{ macros.ds_add(ds, 2) }}'",
      "destination_schema": "raw"
    }
  }
}
