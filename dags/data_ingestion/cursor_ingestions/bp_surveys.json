{
  "name": "bp_statistics",
  "origin_db_connection": "bp_replica",
  "destination_db_connection": "pg_bp_analytics",
  "catchup": false,
  "start_date": "2024-08-10",
  "schedule_interval": "0 5 * * *",
  "extractions": {
    "decidim_surveys_surveys": {
      "extraction_schema": "public",
      "ingestion_type": "incremental",
      "incremental_filter": "updated_at >= '{{ macros.ds_add(ds, -1) }}' and updated_at < '{{ macros.ds_add(ds, 2) }}'",
      "destination_schema": "raw"
    },
    "decidim_forms_answer_choices": {
        "extraction_schema": "public",
        "ingestion_type": "full_refresh",
        "destination_schema": "raw"
      },
      "decidim_forms_answer_options": {
        "extraction_schema": "public",
        "ingestion_type": "full_refresh",
        "destination_schema": "raw"
      },
      "decidim_forms_answers": {
        "extraction_schema": "public",
        "ingestion_type": "incremental",
        "incremental_filter": "updated_at >= '{{ macros.ds_add(ds, -1) }}' and updated_at < '{{ macros.ds_add(ds, 2) }}'",
        "destination_schema": "raw"
      },
      "decidim_forms_display_conditions": {
        "extraction_schema": "public",
        "ingestion_type": "incremental",
        "incremental_filter": "updated_at >= '{{ macros.ds_add(ds, -1) }}' and updated_at < '{{ macros.ds_add(ds, 2) }}'",
        "destination_schema": "raw"
      },
      "decidim_forms_question_matrix_rows": {
        "extraction_schema": "public",
        "ingestion_type": "full_refresh",
        "destination_schema": "raw"
      },
      "decidim_forms_questionnaires": {
        "extraction_schema": "public",
        "ingestion_type": "incremental",
        "incremental_filter": "updated_at >= '{{ macros.ds_add(ds, -1) }}' and updated_at < '{{ macros.ds_add(ds, 2) }}'",
        "destination_schema": "raw"
      },
      "decidim_forms_questions": {
        "extraction_schema": "public",
        "ingestion_type": "incremental",
        "incremental_filter": "updated_at >= '{{ macros.ds_add(ds, -1) }}' and updated_at < '{{ macros.ds_add(ds, 2) }}'",
        "destination_schema": "raw"
      }
  }
}
